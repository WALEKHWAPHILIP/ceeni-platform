{% load static %}
<div class="space-y-3">
  {% if not query %}
    <div class="alert">
      <span>Type a query and press <kbd class="kbd kbd-sm">Enter</kbd> to search the Constitution, Bill, and briefs.</span>
    </div>
  {% elif results|length == 0 %}
    <div class="alert alert-warning">
      <span>No results for “{{ query }}”. Try different wording.</span>
    </div>
  {% else %}
    <div class="text-sm opacity-70">Top {{ results|length }} result{{ results|length|pluralize }} for “{{ query }}”</div>
    <div class="grid gap-3">
      {% for r in results %}
        <article class="card bg-base-100 shadow-sm">
          <div class="card-body p-4">
            <div class="flex items-center gap-2">
              <span class="badge badge-outline">{{ r.doc_type|title }}</span>
              <h3 class="font-semibold">{{ r.document_title }}</h3>
              <span class="ml-auto text-xs opacity-60">score {{ r.score|floatformat:3 }}</span>
            </div>
            {% if r.heading %}
              <div class="text-sm opacity-70">{{ r.heading }}</div>
            {% endif %}
            <p class="text-sm leading-6">{{ r.snippet }}</p>
            <div class="text-xs opacity-60">Section {{ r.section_index }}</div>
          </div>
        </article>
      {% endfor %}
    </div>
  {% endif %}
</div>
